package com.homework.homework1;import java.io.FileOutputStream;import java.net.InetSocketAddress;import java.nio.ByteBuffer;import java.nio.channels.FileChannel;import java.nio.channels.ServerSocketChannel;import java.nio.channels.SocketChannel;/** * Created by aa on 2018/11/14. */public class Server {    public static void main(String[] args) throws Exception {        //打开通道        ServerSocketChannel channel = ServerSocketChannel.open();        //建立服务端        channel.socket().bind(new InetSocketAddress(9999));        //获取socket        SocketChannel socket = channel.accept();        String name = "qwe.jpg";        FileOutputStream fos = new FileOutputStream("upload/"+name);        ByteBuffer bb = ByteBuffer.allocate(1024);        int len;        while(true){            bb.clear();            len = socket.read(bb);            if(len == -1){                break;            }            fos.write(bb.array(),0,len);            bb.clear();        }        fos.close();        channel.close();    }}