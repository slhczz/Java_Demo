package com.homework.homework1;import java.io.FileOutputStream;import java.net.InetSocketAddress;import java.nio.ByteBuffer;import java.nio.channels.FileChannel;import java.nio.channels.ServerSocketChannel;import java.nio.channels.SocketChannel;/** * Created by aa on 2018/11/14. */public class Server {    public static void main(String[] args) throws Exception {        //打开通道        ServerSocketChannel channel = ServerSocketChannel.open();        //建立服务端        channel.socket().bind(new InetSocketAddress(9999));        //获取socket        SocketChannel socket = channel.accept();        String name = "qwe.jpg";        FileOutputStream fos = new FileOutputStream("upload/"+name);        ByteBuffer bb = ByteBuffer.allocate(1024);        FileChannel fcw = fos.getChannel();        while (true){            //接收数据            if(bb.position() == 0){                break;            }            socket.read(bb);            fcw.write(bb);        }        fcw.close();        fos.close();        channel.close();    }}