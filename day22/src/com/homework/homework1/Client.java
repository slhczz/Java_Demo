package com.homework.homework1;import java.io.FileInputStream;import java.io.FileOutputStream;import java.io.IOException;import java.net.InetSocketAddress;import java.nio.ByteBuffer;import java.nio.channels.Channel;import java.nio.channels.FileChannel;import java.nio.channels.SocketChannel;/** * Created by aa on 2018/11/14. */public class Client {    public static void main(String[] args) throws Exception {        //打开通道        SocketChannel channel = SocketChannel.open();        //建立连接        channel.connect(new InetSocketAddress("127.0.0.1", 9999));        //设置缓冲区        FileInputStream fis = new FileInputStream("/Users/aa/Downloads/QQ20.jpg");        ByteBuffer bb = ByteBuffer.allocate(1024);        byte[] bs = new byte[1024];        FileChannel fcs = fis.getChannel();        int len;        while((len = fis.read(bs))!=-1){            bb.clear();            bb.put(bs,0,len);            channel.write(bb);        }        fcs.close();        fis.close();        channel.close();    }}